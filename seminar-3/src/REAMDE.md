# Решение задания #3

## Часть 1: Теоретические вопросы

### 1. Почему любое отношение в реляционной схеме имеет по крайней мере один ключ?

В реляционных СУБД модель данных основывается на том, что в таблицах не должно быть полностью одинаковых строк, дубликатов. 

Ключ - это набор атрибутов, который однозначно определяет каждую строку. Поэтому ключ обеспечивает уникальность каждой строки.

### 2. Почему мы используем промежуточные таблицы для связи "многие ко многим"?

Связь многие ко многим ($M:N$) говорит о том, что одна запись в первой таблице может быть связана с несколькими записями во второй таблице и наоборот - одна запись из второй таблицы может иметь связи с несколькими записями в первой таблице.

Если в первую таблицу добавить столбец с $id$ записями из второй таблицы, то получится, что у одной записи в первой таблице может быть только 1 элемент из второй таблицы, то есть мы не сможем показать множественность выбора.

Поэтому создаётся третья (промежуточная) таблица, которая записываются пары id записи первой таблицы и $id$ записи второй таблицы. То есть эта таблица поомгает корректно отобразить связь "многие ко многим", используя две связи $1:M$.

### 3. В каких случаях оправдано использование автоинкремента, а в каких лучше выбрать первичный ключ из сущности или использовать составные ключи?

Автоинкремент - это искусственный ключ, который автоматически увеличивается после каждой вставки. Его использование оправдано в следующих случаях:

1. У записей нет уникальных признаков (например, email, username).
2. Нужен стабильный ключ. Например, email может меняться, это может привести к большим обновлениям, а автоинкремент всегда принимает одно значение для записи.
3. Не гарантируется уникальность записей.
4. Удобно, если ключ используется как внешний в других таблицах.

Автоинкремент нежелателен:
1. Если есть уникальный идентификатор (номер паспорта, email, isbn), который используют как первичный ключ.
2. Когда составной ключ отображает бизнес-логику. Например, в промежуточных таблицах пары id однозначно задают запись.
3. Есть смысловой составной ключ, например, код страны и номер телефона.


## Часть 2: Реляционные схемы

### Инструкции
1. Для каждой диаграммы вы можете писать прямо в файле в любимой IDEA, использовать плагин для [VS Code](https://marketplace.visualstudio.com/items?itemName=duynvu.dbml-language) или сайт - [dbdiagram.io](https://dbdiagram.io) для создания схем.
2. Сохраните ваши схемы в формате `.dbml` в файлах которые подготовлены для каждой задачи в данной папке.
3. Сделайте MR на проверку в master

## Практические задания

### 1. Библиотечная система

[Ссылка на файл](library_system.dbml)

### 2. Расписание поездов

[Ссылка на файл](train_schedule.dbml)

### 3. Станция скорой помощи

[Ссылка на файл](ambulance.dbml)