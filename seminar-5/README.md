[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/pxOdnIdl)
# Семинар 5: SQL-запросы к библиотечной системе и системе поездов

## Описание
В этом задании вам предстоит написать SQL-запросы к двум базам данных: библиотечной системе и системе поездов. Исходные схемы баз данных были созданы в предыдущих заданиях. Вам предоставлены готовые Docker-compose файлы и SQL-таблицы, поэтому вам не нужно заниматься их созданием.

## Инструкция по выполнению
1. Клонируйте ваш репозиторий, созданный GitHub Classroom.
2. Запустите контейнеры с базой данных с помощью Docker-compose в каталоге `/docker`.
3. Подключитесь к базе данных с помощью DataGrip. Обратите внимание на порты, которые используются в Docker-compose файле.
4. Выполните SQL-запросы к предоставленным таблицам и сохраните их в файле `answers.md` в каталоге `/src`.
5. Зафиксируйте изменения (commit) и отправьте их в репозиторий (push).

> Если каких-то значений не будет хватать в БД, то добавьте их сами.

## Задание

### Часть 1: Библиотечная система
Возьмите схему библиотеки, созданную в предыдущем задании:

- **Reader** (ID, LastName, FirstName, Address, BirthDate)
- **Book** (ISBN, Title, Author, PagesNum, PubYear, PubName)
- **Publisher** (PubName, PubAdress)
- **Category** (CategoryName, ParentCat)
- **Copy** (ISBN, CopyNumber, ShelfPosition)
- **Borrowing** (ReaderNr, ISBN, CopyNumber, ReturnDate)
- **BookCat** (ISBN, CategoryName)

Напишите SQL-запросы для следующих вопросов:

1. Найдите фамилии читателей, проживающих в Москве.
2. Найдите книги (author, title), которые брал Иван Иванов.
3. Найдите книги (ISBN) из категории "Горы", которые не относятся к категории "Путешествия" (игнорируя подкатегории).
4. Найдите читателей (LastName, FirstName), которые вернули копию книги.
5. Найдите читателей (LastName, FirstName), которые брали хотя бы одну книгу, которую также брал Иван Иванов (не включая самого Ивана Иванова).

### Часть 2: Поезда
Возьмите схему поездов из предыдущего задания:

- **City** (Name, Region)
- **Station** (Name, #Tracks, CityName, Region)
- **Train** (TrainNr, Length, StartStationName, EndStationName)
- **Connection** (FromStation, ToStation, TrainNr, Departure, Arrival)

Предположим, что отношение "Connection" уже содержит транзитивное замыкание. Например, если поезд 101 идет из Москвы в Санкт-Петербург через Тверь, в таблице `Connection` есть записи для:

- Москва → Тверь
- Тверь → Санкт-Петербург
- Москва → Санкт-Петербург

Напишите SQL-запросы для следующих вопросов:

1. Найдите все прямые рейсы из Москвы в Тверь.
2. Найдите все многосегментные маршруты, имеющие точно однодневный трансфер из Москвы в Санкт-Петербург (первое отправление и прибытие в конечную точку должны быть в одну и ту же дату). Используйте функцию `DAY()` для атрибутов `Departure` и `Arrival`.

## Формат сдачи работы
- Все SQL-запросы должны быть записаны в файл `/src/answers.md` в формате:
  ```markdown
  ### Вопрос 1
  ```sql
  SELECT ...
  ```
  ```
- После выполнения задания, зафиксируйте изменения (`git commit -m "Seminar 5 completed"`)
- Отправьте их в ваш репозиторий (`git push origin main`)